{"version":3,"sources":["ajax-nav.js","AvengerWeb.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/**\n * Created by avengerweb on 18.07.15.\n */\n(function (d) {\n    var g = {\n        intTrigger: \".ajax\",\n        switchContent: !0,\n        showLoader: !0,\n        scrollToPosition: !0,\n        scrollSpeed: 500,\n        useHistory: !0,\n        cacheDocumentTitle: !1,\n        loaded: null,\n        error: null\n    }, e = {\n        init: function (b) {\n            var c = this.selector, a = d.extend({}, g, b);\n            a.useHistory && h && history.replaceState(i(d.extend({selector: c}, a)), \"\", location.href);\n            return this.each(function () {\n                var b = d(this);\n                b.selector = c;\n                a.ajaxNavContainer = b;\n                d(document).on(\"click\", a.intTrigger, a, f);\n                b.data(\"ajaxNav-triggers\", {intTrigger: a.intTrigger})\n            })\n        }, overlay: function (b) {\n            var c = d.extend({}, g, b);\n            return this.each(function () {\n                //Here overlay code\n            })\n        }\n    };\n    e.navigate = function (b) {\n        var c = this.selector, a = d.extend({}, g, b);\n        return !a.url ? this : this.each(function () {\n            var b = d(this), f = b.data(\"jnavloaded\") || a.loaded;\n            b.data(\"jnavlasttrigger\", a.trigger);\n\n            get_url = a.url;\n            d.ajax({\n                type: a.httpmethod || \"GET\",\n                url: get_url,\n                data: (a.params || \"\"),\n                dataType: \"html\",\n                success: function (g) {\n                    var j = b.data(\"ajaxNav-overlay\");\n                    if (a.switchContent) {\n                        b.html(g);\n\n                        if (a.docTitle)\n                            document.title = a.docTitle;\n                        a.scrollToPosition && e.scrollTo(a.url.replace(/^[^#]*/, \"\"), a.scrollSpeed)\n                    }\n                    f && (b.data(\"jnavloaded\", f), f.call(b, g));\n                    a.useHistory && h && \"GET\" === (a.httpmethod || \"GET\").toUpperCase() && k !== a.url && history.pushState(i(d.extend(a, {selector: c})), \"\", a.url)\n                },\n                error: a.error || function () {\n                    a.$form && a.$form.length ? a.$form.submit() : location.href = a.url\n                }\n            })\n        })\n    };\n    e.destroy = function () {\n        return this.each(function () {\n            var b = d(this), c = b.data(\"ajaxNav-triggers\");\n            c && (b.off(c.intTrigger, \"click\", f), d.removeData(b, \"ajaxNav-triggers\"))\n        })\n    };\n    e.scrollTo = function (b, c) {\n        var a = d(b).offset() || {top: 0};\n        c ? d(\"html, body\").delay(150).animate({scrollTop: a.top}, c) : d(window).scrollTop(a.top)\n    };\n    var f = function (b) {\n        var c = d(this), a = {url: null, httpmethod: \"GET\", params: \"\", $form: null};\n        if (\"INPUT\" === this.nodeName || \"BUTTON\" === this.nodeName) {\n            if (a.$form = c.closest(\"form\"), a.$form.length)a.url = a.$form.attr(\"action\") || location.href, a.httpmethod = a.$form.attr(\"method\"), a.params += \"&\" + a.$form.serialize(), c.attr(\"name\") && (a.params += \"&ajaxNavTrigger=\" + c.attr(\"name\"))\n        } else a.url = c.attr(\"href\");\n        a.trigger = c;\n        a.url && (b.preventDefault(), e.navigate.call(b.data.ajaxNavContainer, d.extend(b.data, a)))\n    }, i = function (b) {\n        var c = {};\n        for (key in b)b.hasOwnProperty(key) && ~\"boolean,number,string\".search(typeof b[key]) && (c[key] = b[key]);\n        c.url || (c.url = window.location.href);\n        if (b.cacheDocumentTitle)c.docTitle = document.title;\n        return c\n    }, h = !(!history || !history.pushState), k = location.href;\n    h && window.addEventListener(\"popstate\", function (b) {\n        if (b.state && b.state.selector)k = b.state.url, e.navigate.call(d(b.state.selector), b.state)\n    }, !1);\n    d.fn.ajaxNav = function (b) {\n        if (e[b])return e[b].apply(this, Array.prototype.slice.call(arguments, 1));\n        if (\"object\" === typeof b)return e.init.apply(this, arguments)\n    }\n})(jQuery);","/**\n * Created by avengerweb on 19.06.15.\n */\n\nvar AvengerWeb = {\n    container: null,\n    initialize: function() {\n        this.container = $(\"#content\");\n        this.content = $(\".content-container\");\n        this.menu.initialize();\n        this.welcome();\n\n        this.container.find(\".container\").ajaxNav({\n            intTrigger: \"a:not(.direct)\",\n            loaded: function() {\n                AvengerWeb.reloadDates();\n            }\n        });\n\n        AvengerWeb.reloadDates();\n\n        var csrftoken = $('meta[name=_token]').attr('content');\n        $.ajaxSetup({\n            beforeSend: function (xhr, settings) {\n                if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type)) {\n                    xhr.setRequestHeader(\"X-XSRF-TOKEN\", csrftoken)\n                }\n            }\n        });\n    },\n    reloadDates: function() {\n        $(\".blog .date\").each(function() {\n            var t = $(this);\n            t.html(moment(t.html()).calendar());\n        });\n    },\n    welcome: function() {\n        this.content.hide();\n        this.container.addClass(\"welcome-animate\");\n        var welcome = this.container.find(\".welcome\");\n        var title = welcome.find(\".laravel-title\");\n        var myTitle = welcome.find(\".avenger-web\");\n        var text = title.text().trim().split(\"\");\n\n        var menuLogo = AvengerWeb.menu.container.find(\".logo\");\n        menuLogo.css(\"visibility\", \"hidden\").hide();\n\n        title.text(\"\");\n        for (var letter in text) {\n           title.append(\"<span class='letter'>\" + text[letter] + \"</span>\");\n        }\n\n\n        var letters = title.find(\".letter\");\n        setTimeout(function() {\n            var anim = 300;\n            letters.each(function(){\n                var l = $(this);\n                setTimeout(function() {\n                    l.addClass(\"to-bottom\");\n                }, anim);\n                anim += 300;\n            });\n\n            setTimeout(function() {\n                title.fadeOut(100);\n                myTitle.fadeIn(500, function() {\n                    setTimeout(function() {\n                        welcome.find(\".quote\").hide(100, function() {\n                            menuLogo.slideDown(600);\n                            $(this).remove();\n                            myTitle.find(\".last-word\").css({\"font-size\": 20, top: -6});\n                            myTitle.animate({\"font-size\": \"55px\"}, 500);\n                            welcome.css(\"z-index\", \"1001\").animate({left:147, \"margin-top\": -179}, 600, function() {\n                                $(this).hide();\n                                menuLogo.css(\"visibility\", \"visible\");\n                                AvengerWeb.content.show();\n                                $(\".menu-button\").removeClass(\"hidden\");\n                                AvengerWeb.container.removeClass(\"welcome-animate\");\n                            });\n                        });\n                    }, 1200);\n                    setTimeout(function() {\n                        AvengerWeb.menu.toggleMenu();\n                        $(\".blog\").removeClass(\"hidden\");\n                    }, 500);\n                    $(this).addClass(\"active\");\n                });\n            }, anim + 100);\n\n        }, 300);\n\n    },\n    menu: {\n        container: null,\n        btnOpen: null,\n        btnClose: null,\n        isOpen: false,\n        isAnimating: false,\n        morph: null,\n        svg: null,\n        path: null,\n        initialPath: null,\n        steps: null,\n        stepsTotal: 0,\n\n        initialize: function() {\n            this.container = $(\"header\");\n            //this.btnOpen = $(\"#open-button\");\n            //this.btnClose = $(\"#close-button\");\n            this.morph = $(\"#morph-shape\");\n            this.svg = Snap( this.morph.find('svg').get(0) );\n\n\n            this.path = this.svg.select( 'path' );\n            this.initialPath = this.path.attr('d');\n            this.steps = this.morph.data( 'morph-open' ).split(';');\n            this.stepsTotal = this.steps.length;\n\n            this.container.on('click', \"#open-button, #close-button\", function() {\n                AvengerWeb.menu.toggleMenu();\n            });\n        },\n        toggleMenu: function() {\n            if( this.isAnimating )\n                return false;\n\n            this.isAnimating = true;\n\n            if( this.isOpen ) {\n                this.container.removeClass(\"show-menu\");\n                // animate path\n                setTimeout( function() {\n                    // reset path\n                    AvengerWeb.menu.path.attr( 'd', AvengerWeb.menu.initialPath );\n                    AvengerWeb.menu.isAnimating = false;\n                }, 300 );\n            }\n            else {\n                this.container.addClass(\"show-menu\");\n                // animate path\n                var pos = 0,\n                    nextStep = function( pos ) {\n                        if( pos > AvengerWeb.menu.stepsTotal - 1 ) {\n                            AvengerWeb.menu.isAnimating = false;\n                            return;\n                        }\n                        AvengerWeb.menu.path.animate( { 'path' : AvengerWeb.menu.steps[pos] }, pos === 0 ? 400 : 500, pos === 0 ? mina.easein : mina.elastic, function() {\n                            nextStep(pos);\n                        });\n                        pos++;\n                    };\n\n                nextStep(pos);\n            }\n            this.isOpen = !this.isOpen;\n        }\n    }\n};\n\n$(document).ready(function() {\n    AvengerWeb.initialize();\n});"],"sourceRoot":"/source/"}